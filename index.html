<!doctype html>
<html lang="fi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#0a8f3d" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Etukuponki" />
    <link rel="manifest" href="manifest.webmanifest" />
    <title>Etukuponki �?" S-tyyli</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="app">
      <header class="app-bar">
        <button class="back" aria-label="Takaisin">&#x2039;</button>
        <div class="spacer"></div>
        <!-- Invisible edit hitbox in the right top corner -->
        <button class="edit-hitbox" aria-label="Muokkaus"></button>
      </header>

      <main class="content">
        <div class="hero">
          <img id="hero-image" src="assets/coupon.jpg" alt="Tuotekuva"
               onerror="this.style.display='none';document.getElementById('hero-fallback').style.display='flex';"/>
          <div id="hero-fallback" class="hero-fallback" style="display:none">Etukuponkikuva</div>
        </div>

        <section class="card">
          <div class="label">Etukuponki</div>
          <div class="title-row">
            <h1 class="title">Valitsemasi hillo tai s��ilyke</h1>
            <button class="save-btn" aria-pressed="false" aria-label="Tallenna kuponki">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M6 2h12a1 1 0 0 1 1 1v18l-7-4-7 4V3a1 1 0 0 1 1-1z" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round" fill="none" />
              </svg>
            </button>
          </div>
          <div class="discount">-25 %</div>

          <div id="redeem-status" class="redeem-status hidden">
            <div class="redeem-line">Kuponki on lunastettu <span id="redeem-date"></span></div>
            <div class="redeem-line redeem-time">klo <span id="redeem-time"></span></div>
          </div>

          <p class="muted">
            T��ll�� kupongilla valitsemasi hillo tai s��ilyke -25&nbsp;%. 1 kpl/kuponki. Lunastettavissa
            S-ryhm��n myym��l��iss��. Ei verkkokaupassa. Ei yhdistett��viss�� muihin etuihin. Tuotekuvat esimerkkej��.
          </p>
          <div class="valid">Voimassa <span id="valid-until"></span> asti</div>
        </section>
      </main>

      <button id="action-btn" class="cta" aria-live="polite">N��yt�� myyj��lle</button>

      <!-- Modal overlay (behind sheet) -->
      <div id="overlay" class="overlay hidden" aria-hidden="true"></div>

      <!-- Confirmation bottom sheet -->
      <div id="confirm-sheet" class="sheet hidden" aria-hidden="true">
        <div class="sheet-handle"></div>
        <h2>Kupongin lunastus</h2>
        <p>
          Vahvista, ett�� kuponki k��ytet����n nyt. Voit k��ytt���� kupongin vain kerran ja ostotapahtuman
          yhteydess��. Lunasta kuponki painikkeella ja n��yt�� lunastettu kuponki kassalla.
        </p>
        <div class="sheet-actions">
          <button id="cancel-btn" class="sheet-action" type="button">Peruuta</button>
          <button id="confirm-btn" class="sheet-action" type="button">Lunasta kuponki</button>
        </div>
      </div>

      <!-- Editor bottom sheet -->
      <div id="edit-sheet" class="sheet hidden" aria-hidden="true">
        <div class="sheet-handle"></div>
        <h2>Muokkaa sis��lt����</h2>
        <div class="form-row">
          <label for="img-input" class="field-label">Uusi kuva</label>
          <input id="img-input" type="file" accept="image/*" />
        </div>
        <div class="form-row">
          <label for="title-input" class="field-label">Otsikko</label>
          <input id="title-input" class="text-input" type="text" placeholder="Valitsemasi Tex Mex -tuote" />
        </div>
        <div class="form-row">
          <label for="discount-input" class="field-label">Alennus (%)</label>
          <input id="discount-input" class="text-input" type="number" min="0" max="100" step="1" placeholder="25" />
        </div>
        <div class="form-row">
          <label for="valid-input" class="field-label">Voimassa-teksti</label>
          <input id="valid-input" class="text-input" type="text" placeholder="14.11.2025" />
        </div>
        <div class="form-row">
          <label for="legal-input" class="field-label">Kuvausteksti</label>
          <textarea id="legal-input" class="text-input" rows="5" placeholder="Pitk�� kuvaava teksti"></textarea>
        </div>
        <div class="sheet-actions">
          <button id="edit-cancel" class="sheet-action" type="button">Peruuta</button>
          <button id="edit-save" class="sheet-action" type="button">Tallenna</button>
        </div>
      </div>

      <!-- Cashier view removed: after redeem we return to card with status -->
    </div>

    <script src="app.js"></script>
    <script>
      


    </script>
  </body>
  </html>

